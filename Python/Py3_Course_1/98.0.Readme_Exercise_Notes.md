# Course Exercise: **Absenteeism**

### <u>**Introduction**</u>

**Definition:** Absence from work during normal working hours, resulting in temporary incapacity to execute regular working activity.

**Purpose:** To explore whether a person representing certain characteristics is expected to be away from work at some point in time or not.

**Database Theory:** Using less characters will shrink the volume of the dataset.

1. Based on what information should we <ins>predict</ins> wether an employee is expected to be absent or not?

    * Do they have higher education?
    * How many children and pets they have?
    * How far they live from their workplace?
    * Others.

2. How would we <ins>measure</ins> absenteeism?

<br>

### <u>**Data Sets**</u>

**Primary:** Data that has been created and did not exist prior eg. (survey, questionnaires etc.)

**Secondary:** Already existing dataset that has been created by someone eg. (third-party survey results.)

**Data Pre-processing:** a group of operations that will convert raw data into a format that is easier to understand and, hence, useful for further processing and analysis.

<br>

### <u>**Start of Exercise**</u>

<u>Import **pandas** module</u>: It possess various tools for handling data in a tabular format (a DataFrame). Pandas = **PAN**EL **DA**ta

* Create a name for the variable that will contain the <u>DataFrame</u>: `raw_csv_data`.

  <img src="96.Note_Images/40.png" width="600">

* Using **Pandas**, `.read_csv()` method assigns the information from the initial *.csv file to this variable.

  <img src="96.Note_Images/38.png" width="600">

* In programming index counting starts from 0 not 1. Hence, the first row is index 0.

* Always eyeball or scan initial date set to check for errors and confirm structure.

* Adding `df.info()` prints a concise summary of the DataFrame.

  <img src="96.Note_Images/39.png" width="600">


Terminology |  Mathematics  | Data Analytics | Programming
------------|-------------|-------------------|-----------------
**Variable** | Symbol or a letter, that stands for a number we do not know yet (x,y) | Characteristic or a quantity that may change if its value over time under different circumstances. Referred to as: *features, attributes or input* | Acts like a storage location which contains a certain amount of information
--------------

<br>

### <u>**Regression Analysis**</u>

<u>Task</u>: Predict Absenteeism from Work

<u>Dependent Variable</u>: Absenteeism Time in Hours

<u>Independent Variable</u>: All the other columns

* Use `.drop()` to remove specified rows or columns which do not contribute to the analysis.

* Use `axis` to specify the position of the desired variable to be dropped, default axis (vertical) = 0.

  <img src="96.Note_Images/41.png" width="600">

* Note that the `.drop()` function delivers a temporary output.

  <img src="96.Note_Images/42.png" width="600">

* To make this permanent assign the expression containing the drop function to the original variable or data set.

  <img src="96.Note_Images/43.png" width="600">

* To examine a respective column: `dataset['column_name']`

  <img src="96.Note_Images/44.png" width="600">

  <img src="96.Note_Images/45.png" width="600">

* To extract a list containing <u>**distinct values only**</u>: Pandas unique function, `.unique`.

  <img src="96.Note_Images/46.png" width="600">

  <img src="96.Note_Images/47.png" width="600">

* The `len()` function may be used to count the number of unique values available.

  <img src="96.Note_Images/48.png" width="600">


### <u>**Splitting a Variable into Multiple Dummy Variables**</u>

Remove values that represent <u>categories</u> that are <u>equally</u> meaningful. Often referred to as Categorical Nominals, meaning the numbers can be replaced with words.

* **Quantitative Analysis:** <u>Add numeric meaning</u> to our categorical values.

* **Dummy Variable:** an explanatory bnary variable that equals <u>1</u> if a certain categorical effect is <u>present</u>, and equals <u>0</u> if that same effect is <u>absent</u>.

* Using **Pandas**, the `.get_dummies()` method can be used to apply dummy variables.

* **Multicollinearity:** refers to a situation in which two or more explanatory variables in a multiple regression model are highly linearly related. We have perfect multicollinearity if, for example as in the equation above, the correlation between two independent variables is equal to 1 or âˆ’1. **This should be avoided**.

### <u>**Categorizing the Various Reasons for Absence**</u>

* Given data tables containing a lot of <u>variables of the same type</u>. These variables may be put in a **group** or **class**.

* **Grouping or Classification:** re-organizing a certain type of variables into groups in a regression analysis. Note that after splitting these variables or objects into smaller pieces, each piece itself will be a DataFrame object as well.

* In Python, the `.loc[]` method can be used to separate a data frame. This will retrieve the rows and columns of interest, `.loc[rows, columns]`. This method is <u>label-based</u>, so the desired row or column names need to be indicated (either as integers or strings accordingly).

  <img src="96.Note_Images/49.png" width="600">

### <u>**Concatenation in Python**</u>

* In ***Pandas**, the `.concat()` method can be used to add the new group of reason types to the df Data table.

  <img src="96.Note_Images/50.png" width="600">

* The newly added columns can be assign more meaningful names.

  <img src="96.Note_Images/51.png" width="600">

* In Python, the `.head ()` method may be used to display the top five rows of a data table, together ith the relevant column names.

  <img src="96.Note_Images/52.png" width="600">

### <u>**How to Reorder Columns in a DataFrame in Python**</u>

* The columns can be reshuffled an assigned to the data set accordingly.

  <img src="96.Note_Images/53.png" width="600">

### <u>**Creating a Checkpoint**</u>

* <u>In programming in general, and in Jupyter in particular</u>, creating checkpoints refers to storing the current version of the <u>code</u>, not really the content of the variable.

* This can be described as an interim save of the work done or a snapshot. Ultimately, creating a temporary save of the work done reduces the risk of losing important data at a later stage.

* Create a copy of the current state of the **`df`** DataFrame.

  <img src="96.Note_Images/54.png" width="600">

### <u>**Analyzing the Date Columns**</u>

* In 1 column, or in 1 series, we can have values of a <u>single data type</u> only.

  <img src="96.Note_Images/55.png" width="600">

  <img src="96.Note_Images/56.png" width="600">

* The `timestamp` is a classical data type found in many programming languages, used for values representing <u>dates and time</u>.

* The Panadas, `.to_datetime()` method converts values into <u>timestamps</u>. During this conversion, the proper format of the <u>date values to be worked on</u> must always be specified. 

* The `format` parameter takes control over how python will read the <u>current</u> dates, so that it can accurately understand which numbers refer to days, months, years, hours, minutes, or seconds. eg. `format` = `'string'`

* The `'string'` will <u>not</u> designate the format of the timestamps <u>about to be created</u>.

  Syntax | Description
  -------|------------
  `%d`   | Day
  `%m`   | Month
  `%Y`   | Year
  `%H`   | Hour
  `%H`   | Minute
  `%S`   | Second

   <img src="96.Note_Images/57.png" width="600">

   <img src="96.Note_Images/58.png" width="600">